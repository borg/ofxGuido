<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta http-equiv="Content-Style-Type" content="text/css">
		<title>GUIDO Additional Specifications 1.5.1</title>
		<meta name="Author" content="Camille Le Roi/Colas Decron">

		<style type="text/css">
			BODY { font-family : verdana,Arial,Helvetica; font-size : 10pt; font-weight : normal; color: black; background-color: white; margin: 20px 40px 20px 40px;}
			h1	 { font-size : 31pt; font-weight : bold; padding: 0; line-height: 1.0; }
			h2	 { font-size : 18pt; font-weight : bold; letter-spacing: 1pt;}
			h3	 { font-size : 14pt; font-weight : bold; }
			h4	 { font-size : 12pt; font-weight : bold; margin-left: 50px}

			pre	 { font-family : Monaco, Courier; font-size : 8pt; margin-left: 50px; background-color: #E0D7CB; line-height: 2.0;}

			A:link    { color:#4561CA; text-decoration: none; }
			A:visited { color:#4561CA; text-decoration: none; }
			A:hover   { color:#990000; text-decoration: none; }

			p		 { margin-left: 50px; }
			p.notes  { font-style: italic; margin-left: 0px; }
			p.tag    { margin-left: 90px; text-indent: -40px}
			ul		 { margin-left: 100px; }
    
			span.tag { font-weight : bold; }
		</style>
	</head>
	
	<body>

		<h1>The GUIDO Music Notation Format</h1>
		<h2>Additionnal and new Specifications</h2>
		<p>
			<span class="tag">
				Supported by the <a href="http://sourceforge.net/projects/guidolib/">GUIDO Engine</a> version 1.5.1
			</span>
			<br>
			<a href="http://www.grame.fr/Recherche/">Grame</a> - April 2013
		</p>
		
		
		<p>
			<p>
				<a href="#1.">1. Trill</a>
			</p>
			<p>
				<a href="#2.">2. Noteheads</a>
				<ul>
					<li><a href="#2.1">2.1 Noteheads</a></li>
					<li><a href="#2.2">2.2 Noteheads brackets</a></li>
				</ul>
			</p>
			<p>
				<a href="#3.">3. Glissandos</a>
			</p>
			<p>
				<a href="#4.">4. Clusters</a>
			</p>
			<p>
				<a href="#5.">5. staffOff, staffOn</a>
			</p>
			<p>
				<a href="#6.">6. Symbol</a>
			</p>
			<p>
				<a href="#7.">7. Feathered Beaming</a>
			</p>
			
			
			<hr>
			
			
			<a name="1."></a>
			<h4>1. Trill</h4>

			<p class="tag">
				<p>
					<span class="tag">\trill</span>&lt;<i>dx, dy, adx, ady, size, color, tr, anchor</i>&gt;(<i>chords</i>) 
				</p>
				<p>
					Places a trill on the first note of each chord. Each chord should have two voices which specify the main and auxiliary note. Upward and downward trills can be realised by specifying these notes accordingly.
				</p>
				
				<br>
				
				<ul>
					<li>
						<i><b>Parameters</b> (in the order of their default positions):</i>
						
						<ul>
							<br>
							<li>
								<b><i>dx, dy, adx, ady</i></b> - graphic offsets of the trill (dx/dy for entire trill, adx/ady only for the accidental)
							
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												unit parameters
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> 0
									</li>
									<br>
								</ul>
							</li>
						
							<li>
								<b><i>size</i></b> - graphic size of trill 
								<br>
						
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												unit parameter
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> 1
									</li>
									<br>
								</ul>
							</li>
						
							<li>
								<b><i>color</i></b> - graphic color of the trill 
								<br>
							
								<ul>
									<br>
									<li>
									<i>standard values:</i>
							
										<ul>
											<li>
												color strings
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> "black"
									</li>
									<br>
								</ul>
							</li>
						
							<li>
								<b><i>tr</i></b> - possibility to draw the "tr" or not
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												"false"
											</li>
											<li>
												"0"
											</li>
											<li>
												"true"
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> "true"
									</li>
									<br>
								</ul>
							</li>
							<li>
								<b><i>anchor</i></b> - possibility to anchor the trill line at the note head or above the staff
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												"note"
											</li>

											<li>
												"above"
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> "above"
									</li>
									<br>
								</ul>
							</li>
						</ul>		
						<br>
					</li>
									
					<li>
						<b><i>Range:</i></b> obligatory
					</li>
									
					<br><br>
									
					<li>
						<b><i>Semantics:</i></b>
								
						<ul>
							<li>
								
								rapid alternation between two adjacent notes
							</li>
						</ul>
					</li>
					<li>
						<b><i>Remarks:</i></b>
						<ul>
							<li>
								The trill line will be drawn above automaticaly tied notes (split by a staff or a system) but not above notes that have been tied explicitely by the user
							</li>
						</ul>
					</li>
				</ul>
			</p>
			<p class="notes">
				Examples:
				<pre>{[\meter<"2/4">\tie( \trill({a} {g} {g}) )], <br> [\meter<"2/4">\trill({a}{g/2})]}</pre>
				<center> <IMG SRC="imgs/trillAndTies.jpg"> </center>
				<pre>[\trill&lt;tr="false", anchor="note"&gt;({g}{e/2})]</pre>
				<center> <IMG SRC="imgs/trillAnchorAndTr.jpg"> </center>
			</p>
			
			
			<hr>
			
			
			<a name="2."></a>
			<h3>2. Noteheads</h3>
			
			
			<a name="2.1"></a>
			<h4>2.1 Noteheads</h4>
			
			<p class="tag">
				<span class="tag">\noteFormat</span>&lt;<i>type</i>&gt; 
				<p>
					Changes notehead graphical display, where <i>type</i> can be one of the following:
				</p>
				<ul>
					<li>"x" (a cross notehead)</li>
					<li>"diamond" (a diamond notehead)</li>
					<li>"square" (a square notehead)</li>
					<li>"round" (a round notehead)</li>
					<li>"triangle" (a triangle notehead)</li>
					<li>"reversedTriangle" (an upside down triangle notehead)</li>
				</ul>
			</p>
			
			<p class="notes">
				Examples:
				<pre>[ \noteFormat&lt;"reversedTriangle"&gt; a \noteFormat&lt;"diamond"&gt; c { \noteFormat&lt;"x"&gt; d, \noteFormat&lt;"square"&gt; g } ]</pre>
				<center>
					<IMG SRC="imgs/noteFormat.jpg">
				</center>
			</p>
			
			
			
			<a name="2.2"></a>
			<h4>2.2 Noteheads brackets</h4>
			
			<p class="tag">
				<span class="tag">\noteFormat</span>&lt;<i>style</i>&gt; 
				<p>
					Allows to display brackets around noteheads, where <i>style</i> can be one of the following:
				</p>
				<ul>
					<li>"()" (round brackets)</li>
					<li>"[]" (square brackets)</li>
					<li>"&lt;&gt;" (angled brackets)</li>
					<li>"(S)" (with S being a type, as previously seen)</li>
					<li>"[S]"</li>
					<li>"&lt;S&gt;"</li>
				</ul>
			</p>
			
			<p class="notes">
				Examples:
				<pre>[ \noteFormat&lt;"()"&gt; a \noteFormat<"[diamond]"> a \noteFormat<"&lt;x&gt;"> a ]</pre>
				<center> <IMG SRC="imgs/noteFormat2.jpg"> </center>
			</p>
			
			
			<hr>
			
			
			<a name="3."></a>
			<h3>3. Glissandos</h3>
			
			<p class="tag">
				<p>
					<span class="tag">\glissando</span>&lt;<i>dx1, dy1, dx2, dy2, fill, thickness, lineStyle</i>&gt;(notes)
				</p>
				<p>
					Marks glissandos, affects both playback and graphic appearance.
				</p>
				
				<br>
			
				<ul>
					<li>
						<i><b>Parameters</b> (in the order of their default positions):</i>
						
						<ul>
							<br>
							<li>
								<b><i>dx1, dy1, dx2, dy2</i></b> - graphic offsets of the glissando line
							
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												unit parameters
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> 0
									</li>
									<br>
								</ul>
							</li>
						
							<li>
								<b><i>fill</i></b> - possibility of filling the space between glissandi (for chords or clusters)
								<br>
						
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												true
											</li>
											<li>
												false
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> false
									</li>
									<br>
								</ul>
							</li>

							<li>
								<b><i>thickness</i></b> - graphic thickness of glissando indication
								<br>
						
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												unit parameter
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> 0.3
									</li>
									<br>
								</ul>
							</li>
						
							<li>
								<b><i>lineStyle</i></b> - graphic appearance of glissando indication
								<br>
							
								<ul>
									<br>
									<li>
									<i>standard values:</i>
							
										<ul>
											<li>
												"line" - mark glissando with straight line
											</li>
											<li>
												"wavy" - marks glissando with wavy line
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> "line"
									</li>
									<br>
								</ul>
							</li>
						</ul>
									
						<br>
					</li>
									
					<li>
						<b><i>Range:</i></b> obligatory
					</li>
									
					<br><br>
									
					<li>
						<b><i>Semantics:</i></b>
								
						<ul>
							<li>
								A glissando is a glide from one pitch to another.
							</li>
						</ul>
					</li>
									
					<li>
						<b><i>Remarks:</i></b>
						<ul>
							<li>
								Indicates a glissando between the outermost notes of its range; if the range contains more than two notes, the inner notes are interpreted as transitory notes in a glissando chain.
								In the case of chords, the first written note in the chord will be linked to the first note of the next chord, the second one to the second one, etc...
							</li>
						</ul>
					</li>
				</ul>
			</p>
			
			<p class="notes">
				Examples:
				<pre>[\noteFormat&lt;size=1.5, dx=2&gt \glissando(e g \noteFormat&lt;dx=4, dy=2&gt f b)]</pre>
				<center> <IMG SRC="imgs/glissandoNoteFormat.jpg"> </center>
				<pre>[\glissando(e g# d& b& c# b c)]</pre>
				<center> <IMG SRC="imgs/glissandoAccidentals.jpg"> </center>
				<pre>[\meter<"2/4"> \glissando&lt;fill="true"&gt({b, g} f/2 {g, c2} {e1, g} {b, f}) \glissando({c/4, f, b} {f, b, c}) \glissando&lt;thickness=1, color = "red"&gt(e2 f1 b)]</pre>
				<center> <IMG SRC="imgs/glissandoChords.jpg"> </center>
			</p>
			
			
			<hr>
			
			
			<a name="4."></a>
			<h3>4. Clusters</h3>
			
			<p class="tag">
				<p>
					<span class="tag">\cluster</span>&lt;<i>dx, dy, adx2, ady2, size, color</i>&gt;(chords)
				</p>
				<p>
					Creates clusters, affects graphic appearance.
				</p>
				
				<br>
				
				<ul>
					<li>
						<i><b>Parameters</b> :</i>
						
						<ul>
							<br>
							<li>
								<b><i>dx, dy, adx, ady</i></b> - graphic offsets of the cluster (dx/dy for entire cluster, adx/ady only for cluster's head)
							
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												unit parameters
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> 0
									</li>
									<br>
								</ul>
							</li>
						
							<li>
								<b><i>size</i></b> - graphic size of cluster (only affects horizontal size)
								<br>
						
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												unit parameter
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> 1
									</li>
									<br>
								</ul>
							</li>
						
							<li>
								<b><i>color</i></b> - graphic color of cluster (only affects cluster's head, use <span class="tag">\noteFormat</span>-tag to affect all cluster)
								<br>
							
								<ul>
									<br>
									<li>
									<i>standard values:</i>
							
										<ul>
											<li>
												color strings
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> "black"
									</li>
									<br>
								</ul>
							</li>
						</ul>
									
						<br>
					</li>
									
					<li>
						<b><i>Range:</i></b> obligatory
					</li>
									
					<br><br>
							
					<li>
						<b><i>Semantics:</i></b>
								
						<ul>
							<li>
								A cluster is a musical chord comprising at least three adjacent tones.
							</li>
						</ul>
					</li>
									
					<li>
						<b><i>Remarks:</i></b>
						<ul>
							<li>
								Transforms a chord into a cluster. Only the two first notes are taken into account.
							</li>
						</ul>
					</li>		
				</ul>
			</p>
			
			<p class="notes">
				Examples:
				<pre>[ \cluster&lt;color="red"&gt;({c,d}{f}{d/2,b}) ]</pre>
				<center> <IMG SRC="imgs/cluster.jpg"> </center>
			</p>

			
			<hr>
			
			
			<a name="5."></a>
			<h3>5. staffOff, staffOn</h3>

			<p class="tag">
				<p>
					<span class="tag">\staffOff 
					<br> \staffOn</span> 
				</p>
				<p>
					The <span class="tag">\staffOff</span>  tag makes the current staff invisible starting from the position where it occurs until the next \staffOn is encountered. While the staff is invisible, all notational elements fixed to it (notes, rests, dynamic markings, etc.) also become invisible.
				</p>
				
				<br>
				
				<ul>
					<li>
						<i><b>Parameters:</i></b> none
					</li>
									
					<li>
						<b><i>Range:</i></b> none
					</li>
									
					<br><br>
						
					<li>
						<b><i>Remarks:</i></b>
						<ul>
							<li>
								Takes into account the changes of staff with \staff&lt;i&gt;
							</li>
							<li>
								If a \staffOn is placed at the end of the line and you don't want the last bar to be drawn, you have to write it explicitely before the \staffOn.
							</li>
						</ul>
					</li>
				</ul>
			</p>
			<p class="notes">
				Examples:
				<pre>[ \meter<"4/4"> \staffOff \clef	g d \staffOn c f c d f \staffOff a c b g \staffOn f ]</pre>
				<center> <IMG SRC="imgs/staffOff.jpg"> </center>
				<pre>{[ \meter<"4/4"> g d c f c d f a], <br> [ \meter<"4/4"> c d f \staff<1> a g \staffOff c \staff<2> g f ]}</pre>
				<center> <IMG SRC="imgs/staffOff2.jpg"> </center>
			</p>

			
			<hr>
			
			
			<a name="6."></a>
			<h3>6. Symbol</h3>
			
			<p class="tag">
				<p>
					<span class="tag">\symbol</span>&lt;<i>file, position, size, w, h, dx, dy</i>&gt; <br>
					<span class="tag">\symbol</span>&lt;<i>file, position, size, w, h, dx, dy</i>&gt;(notes)
				</p>
				<p>
					Inserts a symbol in the score, which can be a png/jpg/bmp file and which can modify score's layout.
				<br>
					The symbol gets a duration if some notes are set between brackets, after the <span class="tag">\symbol</span>-tag.
				</p>
				
				<br>
			
				<ul>
					<li>
						<i><b>Parameters</b> :</i>
						
						<ul>
							<br>
							<li>
								<b><i>file</i> (required)</b> - path to the symbol: can be relative from home directory, from current gmn file directory, or absolute.
							
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												string
											</li>
										</ul>
									</li>
									<br>
								</ul>
							</li>
							
							<li>
								<b><i>position</i></b> - graphic position of symbol in relation to the staff
								<br>
							
								<ul>
									<br>
									<li>
										<i>standard values:</i>
							
										<ul>
											<li>"bot"</li>
											<li>"top"</li>
											<li>"mid"</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> "mid"
									</li>
									<br>
								</ul>
							</li>
						
							<li>
								<b><i>size</i></b> - graphic size of symbol
								<br>
						
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												unit parameter
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> 1
									</li>
									<br>
								</ul>
							</li>
							
							<li>
								<b><i>w, h</i></b> - graphic width/height of the symbol, in pixel
							
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												unit parameters
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> original w/h of the symbol
									</li>
									<br>
								</ul>
							</li>
							
							<li>
								<b><i>dx, dy</i></b> - graphic offset of the symbol
							
								<ul>
									<br>
									<li>
										<i>standard values:</i>
						
										<ul>
											<li>
												unit parameters
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> 0
									</li>
									<br>
								</ul>
							</li>
						</ul>
									
						<br>
					</li>
				</ul>
			</p>
			
			<p class="notes">
				Examples:
				<pre>[ \meter&lt;"4/4"&gt; a b \symbol&lt;file="test.png", dx=-3&gt; c d ]</pre>
				<center> <IMG SRC="imgs/symbol1.jpg"> </center>
				<pre>[ \meter<"4/4"> a b  \symbol&lt;file="symbols/curve1.png", position="top", dy=-1, h=13, w=50&gt; (c d ) ]</pre>
				<center> <IMG SRC="imgs/symbol2.png"> </center>
			</p>

			<hr>
			
			<a name="7."></a>
			<h3>7. Feathered Beaming</h4>
			
			<p class="tag">
				<p>
					<span class="tag">\fBeam</span>&lt;<i>durations, drawDuration, color</i>&gt;(notes shorter than a quarter note)
				</p>
				<p>
					Creates a feathered beam
				</p>
				
				<br>
				
				<ul>
					<li>
						<i><b>Parameters</b> :</i>
						
						<ul>
							<br>
						
							<li>
								<b><i>color</i></b> - graphic color of beams
								<br>
							
								<ul>
									<br>
									<li>
									<i>standard values:</i>
							
										<ul>
											<li>
												color strings
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> "black"
									</li>
									<br>
								</ul>
							</li>
							<li>
								<b><i>durations</i></b> - begin- and end- durations of the feathered beam : "beginDuration,endDuration"
								<br>
						
								<ul>
									<br>
									<li>
										<i>standard values:</i> string values
						
										<ul>
											<li>
												1/8
											</li>
										</ul>
										<ul>
											<li>
												1/16
											</li>
										</ul>
										<ul>
											<li>
												1/32
											</li>
										</ul>
										<ul>
											<li>
												1/64
											</li>
										</ul>
									</li>
							
									<li>
										<i>default value:</i> if not specified, the real durations of the first and last notes 
									</li>

									<li>
										<i>remark:</i> if the specified durations are not standard, we will take the closest standard duration 
									</li>
									<br>
								</ul>
							</li>
							<li>
								<b><i>drawDuration</i></b> - possibility to draw the duration of the entire beaming
								<br>
						
								<ul>
									<br>
									<li>
										<i>standard values:</i> boolean
									</li>
							
									<li>
										<i>default value:</i> false 
									</li>
									<br>
								</ul>
							</li>						
						</ul>
									
						<br>
					</li>
									
					<li>
						<b><i>Range:</i></b> obligatory
					</li>
									
					<br><br>
									
					<li>
						<b><i>Semantics:</i></b>
								
						<ul>
							<li>
								Indicates an acceleration or a deceleration within a group of beamed notes
							</li>
						</ul>
					</li>
					<li>
						<b><i>Remarks:</i></b>
						<ul>
							<li>
								The spacing between notes stays the same as usual : it depends on the inner duration explicitely given by the user (and not the graphic appearance given by the number of beams)
							</li>
							<li>
								The beams can be chained (using the \fBeamBegin \fBeamEnd tags), combined, and included in bigger beams.
							</li>
						</ul>
					</li>
				</ul>
			</p>
			
			<p class="notes">
				Examples:
				<pre>[ \fBeam&lt;durations="1/8,1/32"&gt;(f/16 e g f c d e a e f) \fBeam&lt;durations="1/32,1/16", drawDuration="true"&gt;(b e d a d e)]</pre>
				<center> <IMG SRC="imgs/fBeam1.jpg"> </center>
				<pre>[ \fBeamBegin:1&lt;drawDuration = "true"&gt; a/8 e f e/16 d g f/32 \fBeamBegin:2&lt;drawDuration = "true"&gt; a/64 \fBeamEnd:1 a f e f/32 e g a/16 e d/8 \fBeamEnd:2]</pre>
				<center> <IMG SRC="imgs/fBeam2.jpg"> </center>
				<pre>[ \beam( \fBeam( a/16 f2 g1 b/32) \fBeam( d/32 c b a g/64) \fBeam( e d c d/8) ) \beam( \beam( a/8 f g/32 b) \beam( d c b a g2/64) \beam( e d c a/32) ) ] </pre>
				<center> <IMG SRC="imgs/combinedBeams.jpg"> </center>
			</p>
		</p>			
	</body>
</html>